(this["webpackJsonpvk-miniapps"]=this["webpackJsonpvk-miniapps"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(17),a=n.n(i),s=(n(120),n(20)),r=(n(121),n(18)),j=n(12),d=n.n(j),o=n(7),l="POST_DATA",b="CLEAR_DATA";var O=n(4);d.a.subscribe((function(e){return function(e){if("VKWebAppOpenCodeReaderResult"===e.detail.type){var t=e.detail.data.code_data.toString();d.a.send("VKWebAppStorageSet",{key:t,value:t})}}(e)}));var u={postData:function(e){return{type:l,payload:e}}},h=Object(r.b)(null,u)((function(e){return e.syncData,Object(O.jsx)(o.r,{activePanel:"main",id:"view1",children:Object(O.jsx)(o.k,{id:"main",children:Object(O.jsx)(o.i,{children:Object(O.jsx)(o.e,{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(o.d,{size:"l",mode:"shadow",style:{width:"100%"},children:Object(O.jsx)("div",{style:{height:"50vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(O.jsx)(o.h,{onClick:function(){d.a.send("VKWebAppOpenCodeReader")},children:Object(O.jsx)(o.c,{style:{height:"70px"},mode:"outline",size:"l",children:"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c QR \u043a\u043e\u0434"})})})})})})})})}));var x=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1];return d.a.subscribe((function(e){return function(e){"VKWebAppStorageGetKeysResult"===e.detail.type&&(i(e.detail.data.keys),console.log("\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 +1"))}(e)})),Object(c.useEffect)((function(){console.log("render"),d.a.send("VKWebAppStorageGetKeys",{count:1e3,offset:0})}),[]),Object(O.jsx)(o.r,{activePanel:"main",id:"view2",children:Object(O.jsx)(o.k,{id:"main",children:Object(O.jsxs)(o.i,{children:[Object(O.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0432\u043e\u0438\u0445 QR \u043a\u043e\u0434\u043e\u0432"}),"Arr"," ",n.toString()]})})})};var p=function(){return Object(O.jsx)(o.r,{activePanel:"main",id:"view3",children:Object(O.jsx)(o.k,{id:"main",children:Object(O.jsxs)(o.i,{children:[Object(O.jsx)("h1",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e QR \u043a\u043e\u0434\u043e\u0432"}),Object(O.jsx)("p",{children:"123 \u0448\u0442."})]})})})},f=(n(30),n(143)),v=n(144),y=n(145),g=n(146);d.a.send("VKWebAppInit",{}).then((function(e){return console.log("Bridge:",e)}));var m=Object(r.b)((function(e){return{syncData:e.data.data}}),null)((function(e){var t=e.syncData,n=Object(o.t)().viewWidth,i=Object(c.useState)("view1"),a=Object(s.a)(i,2),r=a[0],j=a[1],d=Object(c.useState)(!1),l=Object(s.a)(d,2),b=l[0],u=l[1];function m(){u(!b)}return Object(O.jsx)(o.g,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(o.b,{children:Object(O.jsx)(o.q,{header:Object(O.jsx)(o.l,{separator:!1}),children:Object(O.jsxs)(o.p,{spaced:n&&n>o.s.MOBILE,children:[Object(O.jsx)(o.l,{children:Object(O.jsx)(o.m,{aside:Object(O.jsx)(f.a,{style:{transform:"rotate(".concat(b?"180deg":"0",")")}}),onClick:m,children:"VK-QRCode"})}),Object(O.jsx)(o.n,{opened:b,onClose:function(){return m},children:Object(O.jsxs)(o.j,{children:[Object(O.jsx)(o.f,{before:Object(O.jsx)(v.a,{}),onClick:function(){j("view1"),u(!1)},"data-mode":"all",children:"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c QR \u043a\u043e\u0434"}),Object(O.jsx)(o.f,{before:Object(O.jsx)(y.a,{}),onClick:function(){j("view2"),u(!1)},"data-mode":"all",children:"\u041c\u043e\u0438 QR \u043a\u043e\u0434\u044b"}),Object(O.jsx)(o.f,{before:Object(O.jsx)(g.a,{}),onClick:function(){j("view3"),u(!1)},"data-mode":"managed",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e QR \u043a\u043e\u0434\u043e\u0432"})]})}),Object(O.jsxs)(o.o,{activeView:r,children:[Object(O.jsx)(h,{syncData:t,id:"view1"}),Object(O.jsx)(x,{syncData:t,id:"view2"}),Object(O.jsx)(p,{syncData:t,id:"view3"})]})]})})})})})})),w=n(15),k=n(26),_=n(36),R=n.n(_),S=n(21),A={data:{repository:"",command:"",branch:"",syncTime:1}},D=Object(w.a)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(S.a)(Object(S.a)({},e),{},{data:t.payload});case b:return console.log("OK"),Object(S.a)(Object(S.a)({},e),{},{data:A.data});default:return e}}}),C={key:"authType",storage:R.a},E=Object(k.a)(C,D),K=Object(w.c)(E,Object(w.b)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Object(k.b)(K);d.a.send("VKWebAppInit",{}).then((function(e){return console.log("Bridge:",e)})),a.a.render(Object(O.jsx)(r.a,{store:K,children:Object(O.jsx)(m,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.b52f3ad9.chunk.js.map